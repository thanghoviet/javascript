<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <h2>Caro Simple Game</h2>
    <div id="carogame"></div>
    <input type="button" value="change value" onclick="changeValue()" />

    <script>
      const game = document.getElementById("carogame");
      let board = [];
      let data = "";
      let turn = 0;

      for (let i = 0; i < 3; i++) {
        board[i] = new Array(".", ".", ".");
      }

      function render() {
        for (let i = 0; i < 3; i++) {
          data += "</br>";
          for (let j = 0; j < 3; j++) {
            data += board[i][j] + "&nbsp;&nbsp;";
          }
        }
        data += "<br/>";
        game.innerHTML = data;
      }

      render();

      function changeValue() {
        let positionX = prompt("X: ");
        let positionY = prompt("Y: ");
        data = "";

        board[positionX][positionY] = turn % 2 === 0 ? "X" : "O";
        turn++;

        console.log(board);
        render();
        if (check()) {
          document.write(turn % 2 === 0 ? "X" : "O", " is Win");
        }
      }

      function check3Cell(cell1, cell2, cell3) {
        return cell1 !== "." && cell1 === cell2 && cell1 === cell3;
      }

      function check() {
        for (let i = 0; i < 3; i++) {
          if (check3Cell(board[i][0], board[i][1], board[i][2])) {
            return true;
          }

          if (check3Cell(board[0][i], board[1][i], board[2][i])) {
            return true;
          }
        }

        if (check3Cell(board[2][0], board[1][1], board[0][2])) {
          return true;
        }

        if (check3Cell(board[0][0], board[1][1], board[2][2])) {
          return true;
        }

        return false;
      }
    </script>
  </body>
</html>
